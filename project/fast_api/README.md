# [php] hahaha framework
框架


<br>
<br>
<br>
<br>
<br>
<br>

<img src='https://github.com/hahaha0417/php_hahaha_framework/blob/master/php%20hahaha%20framework.png' width=50%><img src='https://github.com/hahaha0417/php_hahaha_framework/blob/master/iTW.png' width=50%> 

<br>
<br>
<br>
<br>
<br>
<br>

## 使用方法
將專案下載，並將template資料夾內容替換掉根目錄的相同資料夾 
 
## 版權請看license

## 架構
這是hahahalib的附屬專案 \
也就是原則上他必須綁定hahahalib才可以實際工作 \
**這專案可以用來建web頁面** \
**架構上不可直接修改，原則上是直接拿來用的，有要修改請繼承出去處理**
 
## 架構規劃
同步某個php hahaha framework版本，不向前相容 \
意思是前面的版本要是有問題，請自己處理，不要找我 
 
## 維護問題
我同意才可加進來 \
而且不會有人沒事幫我維護這個，除非有利益關係 \
我只維護最後一版 
 \
// ---------------------------------------------------- \
暫時有工作了 \
這邊先停止，有空才會繼續弄這個 \
我主要還是維護我的hahahalib(Windows Form專用) \
// ---------------------------------------------------- \
我的框架套版 \
https://hahaha0417.zapto.org:8444 \
// ---------------------------------------------------- \
php hahaha framework \
O .O 不可以Made In Taiwan嗎???\
b \
// ---------------------------------------------------- \
高效能框架 - \
// ---------------------------------------------------- \
Opcache下 \
hello world \
使用apache ab.exe跑過50000 request \
./ab -n 50000 -kc 10 "url(localhost)" \
在root url match，QPS 4300 \
在long url match，QPS 3300 \
// ---------------------------------------------------- \
原生php - \
// ---------------------------------------------------- \
Opcache下 \
hello world \
使用apache ab.exe跑過50000 request \
./ab -n 50000 -kc 10 "url(localhost)" \
在root url match，QPS 5800 \
在long url match，QPS 4300 \
// ---------------------------------------------------- \
閒聊 - \
// ---------------------------------------------------- \
其實不是我的錯...我已經接近原生php的速度了 \
看起來是apache不知道對長路徑做了什麼處理，導致比較慢 \
// ---------------------------------------------------- \
運行環境 \
// ---------------------------------------------------- \
i5 4430 3G \
8G \
Windows 10 64bit \
一般硬碟(Raid 0) \
// ---------------------------------------------------- \
本框架(lcalhost TTFB，chrome(Ctrl + R)) - 一般正常使用，例如簡單套版，如有DB，原則上這裡數字多 0 ~ 50 ms \
// ---------------------------------------------------- \
正常流程(No Opcache)\
 -- 沒有composer套件 -- \
Console 10 ~ 15 + ms \
API 15 ~ 20 + ms \
Web 15 ~ 20 + ms \
 -- 有composer套件(越多越慢) -- \
Console 10 ~ 100 + ms \
API 15 ~ 100 + ms \
Web 15 ~ 100 + ms \
 \
正常流程(Opcache) \
Console 3 ~ 5 + ms  \
API 5 ~ 10 + ms \
Web 5 ~ 10 + ms \
// ---------------------------------------------------- \
套板模擬 \
// ---------------------------------------------------- \
5次簡單query + 模擬一般頁面render \
我首頁套版的TTFB速度為10 ~ 20 + ms \
Laravel 約慢我1倍，其實差距不大 \
我的框架在不碰到低階硬體時，才會出現效能明顯優勢 \
// ---------------------------------------------------- \
Opcache測試頁面 \
http://hahaha0417.zapto.org:8084/ \
// ---------------------------------------------------- \
 \
// ---------------------------------------------------- \
議題 \
// ---------------------------------------------------- \
效能議題 :  \
本框架設計概念是沒用到的東西都不載入 \
要用時才載入 \
因此hello world實際上會非常快(因為我只載入主流程的東西，並且我精簡主流程的程式碼) \
 \
但是要是當某controller使用到很多東西，因為我也是使用composer套件，所以要是引用的套件太大或太慢 \
我的效能也會被影響 \
 \
維護問題 :  \
因為Web產品對效能沒有太大需求，可能會因為客戶沒錢而壓低價錢， \
因此我沒意義對所有模組自己精製(我大部分也不會做) \
 \
作業系統問題 : \
我是Windows粉絲，要用在Linux or Mac有問題請自己處理(應該只有中文檔名問題)， \
我沒打算用我的框架跑在Mac or Linux上，我不是專門做框架給人家用的 \
// ---------------------------------------------------- 

